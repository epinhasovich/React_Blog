(this["webpackJsonpassignment-8"]=this["webpackJsonpassignment-8"]||[]).push([[0],{102:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(49),s=a.n(c),l=(a(58),a(52)),o=a(7),i=a(8),u=a(10),m=a(9),h=a(22),d=a(11),v=(a(59),r.a.createContext({tweets:[],addTweet:function(e){}})),f=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).state={tweet:{content:"",date:"",userName:""},counter:0,disableButton:!1,overChar:!1},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"handleNewTweet",value:function(e){this.setState({tweet:{content:e.target.value}}),e.target.value.length>140&&this.setState({disableButton:!0,overChar:!0})}},{key:"render",value:function(){var e=this,t=this.state,a=t.tweet,n=t.disableButton,c=t.overChar;return r.a.createElement(v.Consumer,null,(function(t){return r.a.createElement("div",null,r.a.createElement("textarea",{className:"messageBox",maxLength:"141",type:"text",placeholder:"What do you have in mind...",onChange:function(t){return e.handleNewTweet(t)}}),r.a.createElement("button",{onClick:function(){return t.addTweet(a)},disabled:n},"Tweet"),r.a.createElement("div",{className:"over",style:{display:c?"":"none"}},"The tweet cannot be over 140 characters"))}))}}]),t}(r.a.Component),w=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).state={},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(v.Consumer,null,(function(e){var t=e.tweets;return r.a.createElement("div",null,t.map((function(e){return r.a.createElement("div",{className:"message"},r.a.createElement("span",{className:"username"},e.userName),r.a.createElement("span",{className:"date"},e.date),r.a.createElement("p",{key:e.content},e.content))})))}))}}]),t}(r.a.Component),b=a(18),p=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).addUser=function(e){e.preventDefault();var t=a.state.userName;window.localStorage.setItem("Username",t)},a.state={userName:""},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"handleNewUser",value:function(e){this.setState({userName:e.target.value}),console.log(this.state.userName)}},{key:"render",value:function(){var e=this;this.state.userName;return r.a.createElement("form",null,r.a.createElement("h1",{className:"profile"},"Profile"),r.a.createElement("span",{className:"userName"},"User Name"),r.a.createElement("textarea",{className:"userBox",maxLength:"20",type:"text",onChange:function(t){return e.handleNewUser(t)}}),r.a.createElement("button",{className:"save",onClick:this.addUser},"Save"))}}]),t}(r.a.Component),E=function(){return r.a.createElement("div",{className:"navbar"},r.a.createElement(b.b,{className:"home-menu",to:"/"},"Home"),r.a.createElement(b.b,{className:"profile-menu",to:"/profile"},"Profile"))},g=a(12),N=a(27),O=a.n(N),j="https://itc-bootcamp-19-dot-charcha-dev.appspot.com";a(80);var y=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).handleNewTweet=function(e){var t;e.userName=window.localStorage.getItem("Username"),e.date=(new Date).toISOString(),(t=e,O.a.post("".concat(j,"/tweet"),{tweet:t})).catch((function(e){return alert("Error! Wait until previous tweets load...")}));var n=a.state.tweets;a.setState({tweets:[e].concat(Object(l.a)(n))})},a.state={tweets:[],loading:!0,addTweet:a.handleNewTweet.bind(Object(h.a)(a)),disableButton:!0},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;window.localStorage.setItem("Username","Default User"),this.getAllTweets(),setInterval((function(){return e.getAllTweets()}),5e3)}},{key:"getAllTweets",value:function(){var e=this;O.a.get("".concat(j,"/tweet")).then((function(t){return e.setState({tweets:t.data.tweets,loading:!1,disableButton:!1})}))}},{key:"render",value:function(){var e=this.state.loading;return r.a.createElement(b.a,null,r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header"},r.a.createElement(E,null),r.a.createElement(g.c,null,r.a.createElement(g.a,{exact:!0,path:"/"},r.a.createElement(v.Provider,{value:this.state},r.a.createElement(f,null),e&&r.a.createElement("h1",{className:"loading"},r.a.createElement("img",{src:"https://i.gifer.com/4V0b.gif"})),!e&&r.a.createElement(w,null))),r.a.createElement(g.a,{exact:!0,path:"/profile"},r.a.createElement(p,null)," ")))))}}]),t}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(y,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},53:function(e,t,a){e.exports=a(102)},58:function(e,t,a){},59:function(e,t,a){},84:function(e,t){},86:function(e,t){}},[[53,1,2]]]);
//# sourceMappingURL=main.cc65f84d.chunk.js.map